<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
<meta content="email=no" name="format-detection">
<title>mathJax</title>
<!-- <link href="css/index.css" type="text/css" rel="stylesheet" /> -->
<style>
#diagram{position: relative; width: 500px; height: auto; margin: 0 auto;}
</style>
</head>
<body>
<textarea style="width: 500px; height: 300px; border: 0 none;" id="latex"></textarea>
<div id="buffer">

</div>
<input type="button" value="生成LaTex公式" onclick="drawLaTex()" /><br />
<canvas id="canvas"></canvas>
</body>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    skipStartupTypeset:true,
    showProcessingMessages: false,
    messageStyle: "none",
    tex2jax: {
      inlineMath: [["$", "$"], ["\\(", "\\)"]],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    },
    SVG: {
      linebreaks: {
        automatic: true,
        width: "container"
      }
    }
  });
</script>
<script type="text/javascript" src="MathJax.js?config=TeX-AMS-MML_SVG"></script>
<script type="text/javascript" src="canvg/rgbcolor.js"></script> 
<script type="text/javascript" src="canvg/StackBlur.js"></script>
<script type="text/javascript" src="canvg/canvg.js"></script> 
<script type="text/javascript">
var drawLaTex=function(){
    buffer.innerHTML=latex.value;
    MathJax.Hub.Queue(
        [
            "Typeset",
            MathJax.Hub,
            document.getElementById("buffer")],//需要渲染LaTex的容器
            [
                "PreviewDone",//渲染成功回调函数
                {//回调函数的父对象
                    PreviewDone:function()
                    {//渲染成功
                        console.log("渲染成功");
                    }
                }
        ]
    );
};
</script>
</html>